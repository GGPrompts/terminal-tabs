/* Split Layout Container */
.split-layout-container {
  width: 100%;
  height: 100%;
  display: flex;
  position: relative;
  overflow: hidden;
}

.split-vertical {
  flex-direction: row;
}

.split-horizontal {
  flex-direction: column;
}

/* Split Panes */
.split-pane {
  position: relative;
  overflow: hidden;
}

.split-pane-left,
.split-pane-right,
.split-pane-top,
.split-pane-bottom {
  display: flex;
  flex-direction: column;
  /* Ensure equal background - no overlays or darkening */
  background: transparent;
  isolation: isolate; /* Create stacking context to prevent z-index issues */
}

/* Add spacing between panes to prevent overlap and create visual gap */
.split-pane-left {
  padding-right: 4px;
}

.split-pane-right {
  padding-left: 4px;
}

.split-pane-top {
  padding-bottom: 4px;
}

.split-pane-bottom {
  padding-top: 4px;
}

/* Resizable Box Overrides */
.split-pane .react-resizable {
  position: relative;
  background: transparent; /* Prevent any background from ResizableBox */
}

/* Ensure no overlays from react-resizable library */
.split-pane .react-resizable > div {
  background: transparent !important;
}

/* Resize Handle Styling - More visible divider */
.react-resizable-handle {
  position: absolute;
  z-index: 50; /* Increased to be above focus indicators */
  background: transparent;
  transition: background 0.15s ease;
}

/* East handle (right edge) - for vertical splits */
.react-resizable-handle-e {
  right: -4px;
  top: 0;
  bottom: 0;
  width: 8px;
  cursor: col-resize;
  background: rgba(255, 255, 255, 0.15);
}

.react-resizable-handle-e:hover {
  background: rgba(59, 130, 246, 0.5); /* Blue highlight */
  box-shadow: 0 0 8px rgba(59, 130, 246, 0.4);
}

.react-resizable-handle-e:active {
  background: rgba(59, 130, 246, 0.7);
  box-shadow: 0 0 12px rgba(59, 130, 246, 0.6);
}

/* South handle (bottom edge) - for horizontal splits */
.react-resizable-handle-s {
  left: 0;
  right: 0;
  bottom: -4px;
  height: 8px;
  cursor: row-resize;
  background: rgba(255, 255, 255, 0.15);
}

.react-resizable-handle-s:hover {
  background: rgba(59, 130, 246, 0.5); /* Blue highlight */
  box-shadow: 0 0 8px rgba(59, 130, 246, 0.4);
}

.react-resizable-handle-s:active {
  background: rgba(59, 130, 246, 0.7);
  box-shadow: 0 0 12px rgba(59, 130, 246, 0.6);
}

/* Visual Divider Line - More prominent */
.react-resizable-handle::before {
  content: '';
  position: absolute;
  background: rgba(255, 255, 255, 0.3);
  transition: background 0.15s ease;
}

.react-resizable-handle-e::before {
  left: 50%;
  top: 0;
  bottom: 0;
  width: 2px;
  transform: translateX(-50%);
}

.react-resizable-handle-s::before {
  left: 0;
  right: 0;
  top: 50%;
  height: 2px;
  transform: translateY(-50%);
}

.react-resizable-handle:hover::before {
  background: rgba(59, 130, 246, 0.9);
}

.react-resizable-handle:active::before {
  background: rgba(59, 130, 246, 1);
}

/* Prevent text selection during resize */
.react-resizable-handle:active {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

/* Dragging state for the entire container */
body.react-resizable-resizing {
  cursor: col-resize !important;
  user-select: none !important;
  -webkit-user-select: none !important;
}

body.react-resizable-resizing.react-resizable-resizing-s {
  cursor: row-resize !important;
}

/* Disable transitions during drag for maximum performance */
.split-pane {
  transition: none;
}

/* Enable GPU acceleration for smoother rendering */
.split-pane,
.split-layout-container,
.react-resizable-handle {
  will-change: auto;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Prevent any pseudo-elements from react-resizable that might darken */
.react-resizable::before,
.react-resizable::after {
  display: none !important;
}

/* Focus Indicators - show which pane is focused */
.react-resizable-handle::after {
  content: '';
  position: absolute;
  background: transparent;
  transition: all 0.2s ease;
  pointer-events: none;
}

/* Vertical split focus indicators (left/right) */
.react-resizable-handle-e::after {
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  opacity: 0;
}

/* Highlight left half when left pane focused */
.split-pane-left.focused .react-resizable-handle-e::after {
  background: rgba(59, 130, 246, 0.8);
  box-shadow: -2px 0 8px rgba(59, 130, 246, 0.6);
  opacity: 1;
}

/* Highlight right half when right pane focused */
.split-pane-right.focused::before {
  content: '';
  position: absolute;
  left: -3px;
  top: 0;
  bottom: 0;
  width: 3px;
  background: rgba(59, 130, 246, 0.8);
  box-shadow: 2px 0 8px rgba(59, 130, 246, 0.6);
  transition: all 0.2s ease;
  pointer-events: none;
  z-index: 40; /* Below resize handle (50) but above panes */
}

/* Horizontal split focus indicators (top/bottom) */
.react-resizable-handle-s::after {
  left: 0;
  right: 0;
  top: 0;
  height: 3px;
  opacity: 0;
}

/* Highlight top half when top pane focused */
.split-pane-top.focused .react-resizable-handle-s::after {
  background: rgba(59, 130, 246, 0.8);
  box-shadow: 0 -2px 8px rgba(59, 130, 246, 0.6);
  opacity: 1;
}

/* Highlight bottom half when bottom pane focused */
.split-pane-bottom.focused::before {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  top: -3px;
  height: 3px;
  background: rgba(59, 130, 246, 0.8);
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.6);
  transition: all 0.2s ease;
  pointer-events: none;
  z-index: 40; /* Below resize handle (50) but above panes */
}

/* Pane button container */
.pane-buttons {
  position: absolute;
  top: 8px;
  right: 8px;
  z-index: 1000;
  display: flex;
  gap: 6px;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.split-pane:hover .pane-buttons {
  opacity: 1;
}

/* Pop-out button for individual panes */
.pane-popout-button {
  width: 24px;
  height: 24px;
  border: none;
  border-radius: 4px;
  background: rgba(0, 0, 0, 0.4);
  color: #888;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  backdrop-filter: blur(4px);
}

.pane-popout-button:hover {
  background: rgba(59, 130, 246, 0.8);
  color: white;
  transform: scale(1.1);
}

.pane-popout-button:active {
  transform: scale(0.95);
}

/* Detach button for individual panes */
.pane-detach-button {
  width: 24px;
  height: 24px;
  border: none;
  border-radius: 4px;
  background: rgba(0, 0, 0, 0.4);
  color: #888;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  backdrop-filter: blur(4px);
}

.pane-detach-button:hover {
  background: rgba(251, 191, 36, 0.8);
  color: white;
  transform: scale(1.1);
}

.pane-detach-button:active {
  transform: scale(0.95);
}

/* Close button for individual panes */
.pane-close-button {
  width: 24px;
  height: 24px;
  border: none;
  border-radius: 4px;
  background: rgba(0, 0, 0, 0.4);
  color: #888;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  backdrop-filter: blur(4px);
}

.pane-close-button:hover {
  background: rgba(239, 68, 68, 0.8);
  color: white;
  transform: scale(1.1);
}

.pane-close-button:active {
  transform: scale(0.95);
}
